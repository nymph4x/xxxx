# 登录页面 (login.vue)

## 描述
登录页面用于已注册用户登录应用，通过输入账号和密码验证用户身份。该页面连接云函数以验证用户信息，确保用户数据的安全性与隐私性。

## 页面结构与功能
1. **账号与密码输入框**：
   - **账号输入框**：供用户输入账号。
   - **密码输入框**：供用户输入密码，通常设置为隐私模式。

2. **按钮**：
   - **登录按钮**：点击后触发登录验证流程。
   - **前往注册链接**：如果用户尚未注册，可以点击该链接跳转至注册页面。

## 页面交互逻辑
1. **用户登录**：用户填写账号与密码后，点击“登录”按钮触发 `login` 方法：
   - 调用 `userLogin` 云函数验证账号与密码。
   - 成功登录后，保存 `user_id` 到本地缓存，便于后续页面使用。
   - 成功后跳转至福币排行榜或主页面；失败时显示错误提示。

2. **跳转至注册页面**：点击“前往注册”链接，调用 `uni.navigateTo` 方法跳转至注册页面，便于未注册用户创建账户。

## 相关云函数

### userLogin 云函数
用于验证用户账号和密码并登录。
- **输入**：
  - `account`：用户账号。
  - `password`：用户密码。
- **输出**：
  - 成功时返回用户的 `user_id`；失败时返回错误信息。
- **逻辑**：
  - 查询 `users` 集合中的账号与密码是否匹配。
  - 如果匹配成功，返回用户的 `user_id`，并在客户端缓存，以便保持用户的登录状态。

## 注意事项
- **输入验证**：在调用云函数前，检查输入框是否为空，确保用户填写完整信息。
- **错误提示**：若登录失败，需通过弹窗或文本提醒用户重新输入账号或密码。
- **账号安全性**：建议采用加密存储密码的方式，提升数据的安全性。

## 特别提醒
```
// 将 user_id 存储到本地
              const userId = res.result.data.user_id;
              uni.setStorageSync('user_id', userId);
			  console.log("Stored user_id:", uni.getStorageSync('user_id')); // 输出 user_id
```
登录界面获取用户唯一`user_id`，并将其存储到本地，后续如果需要使用可以调用`uni.getStorageSync('user_id')`获取用户id。
这里这样设计主要是为了通过`user_id`将不同的数据库进行关联，确保绑定用户。


## 小结
登录页面的主要功能是为已注册用户提供安全的登录入口，并将验证通过的用户导向主页面或福币排行榜。通过调用 `userLogin` 云函数验证信息，页面保障了用户数据的私密性与安全性。
